<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript">
      var player;
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '100%',
          videoId: 'kRt2sRyup6A',
          events: {
          }
        });
      };

      window.onload = function() {
        var line = document.getElementById('1line');
        line.onclick = function(event) {
          var times = event.target.innerHTML.split("-");
          var startTime = times[0];
          var endTime = times[1];
          // Start to play from the beginning of the line
          player.seekTo(startTime);
          // Ensure the line plays in a loop
          if(window.interval) {
            clearInterval(window.interval);
          };
          window.interval = window.setInterval(function() {
            if(player.getCurrentTime() > endTime) {
              player.seekTo(startTime);
            };
          }, 100);
        };
        document.getElementById('check').onclick = function() {
          var verse = document.getElementById("1line-verse");
          var input = document.getElementById("1line-input");
          if(verse.innerHTML.toLowerCase() == input.value.toLowerCase()) {
            alert('Great!')
          } else {
            verse.style.display = "block";
          };
        };
      };
    </script>
  </head>
  <body>
    <div id="player">
    </div>
    <div>
      <a href="#" id="1line">30-40</a>
      <p id="1line-verse" style="display: none;">Tengo la camisa negra</p>
      <input id="1line-input" type="text" /><a href="#" id="check">Check</a>
    </div>
  </body>
</html>
