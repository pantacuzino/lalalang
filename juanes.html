<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript">
      var player;
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '390',
          width: '100%',
          videoId: 'kRt2sRyup6A',
          events: {
          }
        });
      };

      window.onload = function() {
        var line = document.getElementById('1line');
        line.onclick = function(event) {
          var startTime = event.target.getAttribute('start');
          var endTime = event.target.getAttribute('end');
          // Start to play from the beginning of the line
          player.seekTo(startTime);
          // Ensure the line plays in a loop
          if(window.interval) {
            clearInterval(window.interval);
          };
          window.interval = window.setInterval(function() {
            if(player.getCurrentTime() > endTime) {
              player.seekTo(startTime);
            };
          }, 100);
        };
      };
    </script>
  </head>
  <body>
    <div id="player">
    </div>
    <a href="#" id="1line" start="30" end="40">1 line</a>
    2 line
    3 line
    4 line
  </body>
</html>
